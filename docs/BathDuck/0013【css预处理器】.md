# 🟡【css预处理器】

## 🟡〖提前总结〗
css处理器是什么? 就是一种写css的风格，写完以后最后还是会编译成css文件，那最后都会变成css，干嘛不干脆直接写css呢，因为css预处理里面有一些方法是css没有的，比如变量！..等等  、

所以直接上手学Sass/scss 就好了
>这里总结的不是很好，但是还是✔了 没事 直接看Sass学上就好了

---

## 🟡 概念
CSS 预处理器用一种专门的编程语言，进行 Web 页面样式设计，然后再编译成正常的 CSS 文件，以供项目使用。  
**CSS 预处理器为 CSS 增加一些编程的特性，无需考虑浏览器的兼容性问题。**


- CSS语法不够强大，比如无法嵌套书写导致模块化开发中需要书写很多重复的选择器；
- 没有变量和合理的样式复用机制，使得逻辑上相关的属性值必须以字面量的形式重复输出，导致难以维护等

#### 主流css预处理器
 - Sass：2007年诞生，最早也是最成熟的CSS预处理器，拥有ruby社区的支持和compass这一最强大的css框架，目前受LESS影响，已经进化到了全面兼容CSS的SCSS。
 - Less：2009年出现，受SASS的影响较大，在ruby社区之外支持者远超过SASS，其缺点是比起SASS来，可编程功能不够，不过优点是简单和兼容CSS。著名的Twitter Bootstrap就是采用LESS做底层语言的。
 - Stylus：2010年产生，来自Node.js社区，主要用来给Node项目进行CSS预处理支持，在此社区之内有一定支持者，在广泛的意义上人气还完全不如SASS和LESS。

#### ❤ 相同点
可以在 CSS 中使用变量、简单的程序逻辑、函数等等在编程语言中的一些基本技巧，可以让你的 CSS 更见简洁，适应性更强，代码更直观等。

#### 🖤 不同点
#### 1.变量：

- Sass声明变量必须是“$”开头，后面紧跟变量名和变量值，而且变量名和变量值需要使用冒号：分隔开。  
- Less 声明变量用“Sass声明变量必须是“$”开头，后面紧跟变量名和变量值，而且变量名和变量值需要使用冒号：分隔开。  
- Less 声明变量用“@”法和Less、Sass完全相同。  

#### 2.作用域：

css 预编译器把变量赋予作用域，也就是存在生命周期。就像 js 一样，它会先从局部作用域查找变量，依次向上级作用域查找。

- Sass：三者最差，不存在全局变量的概念。
- Less：我认为跟 JS 一样，逐级查找，向上冒泡。
- Stylus：完全等同 Less。Stylus 和 Sass 则更倾向于指令式。

#### 3.嵌套：

十分真诚的说，三种 css 预编译器的选择器嵌套在使用上来说没有任何区别（也可能是我没发现）。Sass 除了常规的采用“&”替代父级选择器之外，还提供了奇葩的属性嵌套：

```css
/*style.sass*/

.footer {  
  font: {    
    family:  微软雅黑;    
    size: 5rem;    
    weight: bolder;  
  }
}
```
#### 4.继承：

css 属性的继承是一个非常重要的特性，好消息是三种预编译器都对此做出了改善。

Sass和Stylus的继承非常像，能把一个选择器的所有样式继承到另一个选择器上。使用“@extend”开始，后面接被继承的选择器。
```css
.shit {  
  margin: 10px 5px;  
  padding: 2px;
}
p {  
  @extend .shit;/*继承.block*/  
  border: 1px solid #aaa;
}
ul,li {  
  @extend .shit; /*继承.block*/  
  color: #aaa;
}
```
将被编译成标准 css：
```css
.shit,p,ul,ol { 
   margin: 10px 5px;  
   padding:2px;
}
p {  
  border: 1px solid #aaa;
}
ul,li { color:#aaa; }
```
- Less 继承：与前两者继承方式有所区别，它不是在选择器上继承，而是将Mixins中的样式嵌套到每个选择器里面。然而这样会带来一个明显的缺点：每个选择器中会出现重复的样式。

#### 5.导入@Import：

CSS中，不建议用@import导入css，因为会增加http请求。但 CSS 预处理器中的导入和CSS的有hhe很大区别，它是将不同 css 是在语义上导入，最终编译结果会生成一个CSS文件。

值得注意的是，如果不同文件相互引入的时候，出现相同变量名时可能会引起错误。所以我的建议是单独有一个 var.sass/less/styl 文件来记录所有你定义的变量。

Less 为@Import 扩展了语法，而 Sass 和 Stylus 并没有。

---

## 🟡 学习使用

#### 基本语法
LESS的基本语法和CSS差不多，SASS和Stylus都可以利用缩进代替花括号，并且空格有重要的意义。SASS保存为".sass"是缩进格式，保存为".scss"是非缩进格式。SASS一般使用".scss"扩展名。LESS的扩展名为".less"，Stylus的扩展名为".styl"。

注意：SASS依赖于Ruby，安装前必须先安装Ruby。

LESS & SCSS:
```css
ul {
    list-style: none;
}
```
SASS:
```css
ul
    list-style: none
```
Stylus:
```css
ul
    list-style none
```

#### 变量

LESS
```css
@orange: #feb914；
header {
    background-color: @orange;
} 
```
SASS
```css
$orange: #feb914；
header {
    background-color: $orange;
} 
```
Stylus
```css
bgorange = #feb914；
header
    background-color bgorange
```

Stylus还有一个独特功能，它不需要分配值给变量就可以定义引用属性。如下：
```css
#logo
    position: absolute
    top: 50%
    left: 50%
    width: w = 150px
    height: h = 80px
    margin-left: -(w / 2)
    margin-top: -(h / 2)
```
```css
#logo
    position: absolute
    top: 50%
    left: 50%
    width: 150px
    height: 80px
    margin-left: -(@width / 2)
    margin-top: -(@height / 2)
```

#### 变量作用域

三种预处理器中定义的变量都是有作用域的，查找变量的顺序是先在局部定义中查找，如果找不到，则逐级向上查找。

如果我们在代码中重写某个已经定义的变量，Less的处理逻辑和其他两个有区别。Less中，这个行为叫懒加载（Lazy Loading）。注意Less中所有变量的计算，都是以这个变量最后一次被定义的值为准。

LESS：
```css
@size: 40px;
.content {
    width: @size;
}
@size: 60px;
.container {
    width: @size;
}
```
编译输出为：
```css
.content {
    width: 60px;
}
.container {
    width: 60px;
}
```
---
在SASS中情况如下：
```css
$size: 40px;
.content {
    width: $size;
}
$size: 60px;
.container {
    width: $size;
}
```
编译输出为：
```css
.content {
    width: 40px;
}
.container {
    width: 60px;
}
```
Stylus和SASS行为相同，变量的计算以变量最近一次的定义为准。

---


## 🐷【完】
鉴于css的预处理器要学，也不难，而且还是js相关的任务比较重要。
所以先搞定其他概念。  

至于css预处理，用Sass来进一步学习css的预处理，  
会另开一篇来学习Sass
